## 基本方針 (Basic Policy)
1. **言語設定**:
   - 思考プロセス (Thinking Process): 英語で行うこと（論理的精度向上のため）。
   - ユーザーへの回答・ドキュメント・コミットメッセージ: **必ず日本語** で記述すること。
2. **回答スタイル**:
   - 結論 → 理由 → 手順 の順で簡潔に記述する。
   - 初学者にもわかるように専門用語には補足を加える。

## ドキュメント生成ルール (Documentation Rules)
- **生成の抑制**: 複雑な変更を伴わない単純な質問や情報取得タスクの場合、ドキュメント（`task.md`, `implementation_plan.md`, `walkthrough.md`）は**生成しないこと**。
- **モデル別挙動**: モデルが **Fast** の場合は、ドキュメント生成を省略する。
- **保存ルール**: もしドキュメントを作成する場合は、プロジェクト内の `docs/` フォルダ配下に日本語で保存すること。

## CRITICAL PROTOCOLS (最優先行動指針)
以下のルールはいかなる状況でも最優先で遵守すること：
1. **UTF-8エンコーディングの徹底（最優先）**: 
   - PowerShell 実行時は冒頭に `[Console]::OutputEncoding = [System.Text.Encoding]::UTF8;` を、コマンドプロンプト(cmd) 実行時は冒頭に `chcp 65001 > nul &&` を必ず付与すること。これにより、実行環境の標準出力を UTF-8 に固定します。日本語の文字化けでほぼ確実に"Agent execution terminated due to error"や無限ループで止まってしまう致命的欠陥があるからです。これは最優先ルールです。
   - PowerShell でファイルを書き換える際は必ず `-Encoding UTF8` を明示して実行。多くのファイルはUTF8にて保存されている。文字化けでファイルが壊れてしまう。
   - PowerShellの活用: `write_to_file` 等の標準ツールでインデントが強制される場合は、PowerShellの `Set-Content` を使用して、ヒアドキュメント形式で生のテキストデータとして強制書き込みを行うこと。
   - ファイルの読み書き（PSなら `Get-Content`, `Set-Content` 等、cmdなら `type`, リダイレクト等）を行う際は、必ず UTF-8 を指定すること。 PowerShell では `-Encoding UTF8` の明示を必須とし、cmd では `chcp 65001` 下で実行すること。Shift-JIS での読み込みは「データ破壊」とみなし、読み込み・保存の全工程で UTF-8 を貫徹してください。
2. **品質保証**: コード修正完了時は、必ずLint（構文チェック）と関連テストを実行し、PASSすることを確認してから報告すること。
3. **不要ファイルの削除**: テストなどで作成した一時ファイルやブランチは不要になった時点で削除すること。
4. **機密情報の保護**: パスワード、APIキー、トークンなどをログやアーティファクトに絶対に出力しないこと。
5. **ロールバック**: エラーで作業を中断する場合、ユーザーの指示がなければ作業前のクリーンな状態に復元すること。
